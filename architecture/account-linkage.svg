<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2344 1314.4999999999995" width="2344" height="1314.4999999999995">
  <!-- svg-source:excalidraw -->
  
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
      @font-face {
        font-family: "Assistant";
        src: url("https://excalidraw.com/Assistant-Regular.woff2");
      }
    </style>
    
  </defs>
  <rect x="0" y="0" width="2344" height="1314.4999999999995" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(1116.5 1098.4999999999995) rotate(0 177 103)"><path d="M32 0 C140.67 0, 249.34 0, 322 0 M32 0 C114.18 0, 196.37 0, 322 0 M322 0 C343.33 0, 354 10.67, 354 32 M322 0 C343.33 0, 354 10.67, 354 32 M354 32 C354 64.05, 354 96.1, 354 174 M354 32 C354 85.54, 354 139.08, 354 174 M354 174 C354 195.33, 343.33 206, 322 206 M354 174 C354 195.33, 343.33 206, 322 206 M322 206 C244.31 206, 166.63 206, 32 206 M322 206 C252.34 206, 182.69 206, 32 206 M32 206 C10.67 206, 0 195.33, 0 174 M32 206 C10.67 206, 0 195.33, 0 174 M0 174 C0 129.89, 0 85.78, 0 32 M0 174 C0 132.82, 0 91.64, 0 32 M0 32 C0 10.67, 10.67 0, 32 0 M0 32 C0 10.67, 10.67 0, 32 0" stroke="#1971c2" stroke-width="4" fill="none"></path></g><g transform="translate(1244.808334350586 1178.9999999999995) rotate(0 48.69166564941406 22.5)"><text x="48.69166564941406" y="31.536" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1971c2" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Client</text></g><g stroke-linecap="round" transform="translate(1934 250) rotate(0 200 117.99999999999999)"><path d="M7.86 8.16 C7.86 8.16, 7.86 8.16, 7.86 8.16 M7.86 8.16 C7.86 8.16, 7.86 8.16, 7.86 8.16 M0.91 40.54 C11.25 28.65, 21.6 16.75, 36.34 -0.21 M0.91 40.54 C13.93 25.57, 26.94 10.59, 36.34 -0.21 M1.18 64.62 C13.12 50.89, 25.06 37.15, 57.6 -0.28 M1.18 64.62 C17.85 45.45, 34.52 26.27, 57.6 -0.28 M0.79 89.46 C27.23 59.04, 53.67 28.62, 78.2 0.41 M0.79 89.46 C29.13 56.85, 57.48 24.24, 78.2 0.41 M1.05 113.54 C29.77 80.51, 58.48 47.48, 99.46 0.34 M1.05 113.54 C39.39 69.44, 77.74 25.33, 99.46 0.34 M0.66 138.38 C48.32 83.55, 95.98 28.73, 120.72 0.27 M0.66 138.38 C34.78 99.13, 68.89 59.89, 120.72 0.27 M0.93 162.46 C46.85 109.63, 92.78 56.8, 141.98 0.2 M0.93 162.46 C45.65 111.01, 90.37 59.57, 141.98 0.2 M0.54 187.3 C63.9 114.41, 127.27 41.52, 163.24 0.13 M0.54 187.3 C40.43 141.41, 80.32 95.52, 163.24 0.13 M0.81 211.38 C65.64 136.8, 130.48 62.21, 184.5 0.06 M0.81 211.38 C66.1 136.26, 131.4 61.15, 184.5 0.06 M7.63 227.91 C75.5 149.85, 143.36 71.78, 205.76 -0.01 M7.63 227.91 C48.4 181.01, 89.17 134.12, 205.76 -0.01 M22.33 235.39 C74.73 175.12, 127.13 114.84, 227.02 -0.08 M22.33 235.39 C76.64 172.92, 130.94 110.45, 227.02 -0.08 M42.94 236.08 C98.77 171.85, 154.6 107.62, 248.28 -0.15 M42.94 236.08 C95.37 175.76, 147.8 115.45, 248.28 -0.15 M64.2 236.01 C117.38 174.83, 170.56 113.65, 269.54 -0.22 M64.2 236.01 C144.25 143.92, 224.3 51.83, 269.54 -0.22 M85.46 235.94 C144.08 168.51, 202.7 101.07, 290.8 -0.28 M85.46 235.94 C150.36 161.28, 215.26 86.62, 290.8 -0.28 M106.72 235.87 C153.48 182.08, 200.24 128.29, 311.41 0.4 M106.72 235.87 C179.42 152.23, 252.13 68.6, 311.41 0.4 M127.32 236.56 C185.49 169.64, 243.67 102.72, 332.67 0.33 M127.32 236.56 C177.21 179.16, 227.1 121.77, 332.67 0.33 M148.58 236.49 C225.18 148.37, 301.77 60.26, 353.93 0.26 M148.58 236.49 C224.61 149.02, 300.65 61.56, 353.93 0.26 M169.84 236.42 C222.58 175.76, 275.31 115.09, 374.53 0.95 M169.84 236.42 C236.13 160.17, 302.41 83.92, 374.53 0.95 M191.1 236.35 C259.62 157.53, 328.14 78.71, 390.54 6.92 M191.1 236.35 C256.28 161.38, 321.45 86.4, 390.54 6.92 M212.36 236.28 C285.57 152.06, 358.79 67.84, 398.68 21.94 M212.36 236.28 C283.04 154.98, 353.71 73.68, 398.68 21.94 M233.62 236.21 C289.13 172.36, 344.63 108.51, 400.26 44.51 M233.62 236.21 C283.49 178.84, 333.37 121.47, 400.26 44.51 M254.88 236.14 C308.17 174.85, 361.45 113.55, 400.53 68.6 M254.88 236.14 C293.17 192.1, 331.45 148.06, 400.53 68.6 M276.14 236.07 C322.87 182.32, 369.61 128.56, 400.14 93.43 M276.14 236.07 C306.54 201.11, 336.93 166.15, 400.14 93.43 M297.4 236 C322.66 206.95, 347.91 177.9, 400.41 117.51 M297.4 236 C334.56 193.27, 371.71 150.53, 400.41 117.51 M318.66 235.94 C339.19 212.32, 359.72 188.71, 400.02 142.35 M318.66 235.94 C343.43 207.45, 368.19 178.96, 400.02 142.35 M339.92 235.87 C363.58 208.65, 387.24 181.44, 400.28 166.43 M339.92 235.87 C357.54 215.6, 375.16 195.33, 400.28 166.43 M360.53 236.55 C375.7 219.1, 390.87 201.65, 400.55 190.51 M360.53 236.55 C372.54 222.73, 384.56 208.91, 400.55 190.51 M384.41 233.46 C389.36 227.77, 394.31 222.07, 398.19 217.62 M384.41 233.46 C387.28 230.16, 390.15 226.86, 398.19 217.62" stroke="#ffc9c9" stroke-width="2" fill="none"></path><path d="M32 0 C127.65 0, 223.29 0, 368 0 M32 0 C136.58 0, 241.17 0, 368 0 M368 0 C389.33 0, 400 10.67, 400 32 M368 0 C389.33 0, 400 10.67, 400 32 M400 32 C400 70.56, 400 109.12, 400 204 M400 32 C400 68.11, 400 104.22, 400 204 M400 204 C400 225.33, 389.33 236, 368 236 M400 204 C400 225.33, 389.33 236, 368 236 M368 236 C242.58 236, 117.16 236, 32 236 M368 236 C266.89 236, 165.78 236, 32 236 M32 236 C10.67 236, 0 225.33, 0 204 M32 236 C10.67 236, 0 225.33, 0 204 M0 204 C0 137.83, 0 71.66, 0 32 M0 204 C0 148.74, 0 93.49, 0 32 M0 32 C0 10.67, 10.67 0, 32 0 M0 32 C0 10.67, 10.67 0, 32 0" stroke="#e03131" stroke-width="4" fill="none"></path></g><g transform="translate(2029.533332824707 345.5) rotate(0 104.46666717529297 22.5)"><text x="104.46666717529297" y="31.536" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#e03131" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Auth server</text></g><g stroke-linecap="round" transform="translate(288 422) rotate(0 171 109)"><path d="M7.86 8.16 C7.86 8.16, 7.86 8.16, 7.86 8.16 M7.86 8.16 C7.86 8.16, 7.86 8.16, 7.86 8.16 M0.91 40.54 C15.06 24.26, 29.22 7.98, 36.34 -0.21 M0.91 40.54 C8.7 31.58, 16.49 22.62, 36.34 -0.21 M1.18 64.62 C17.84 45.46, 34.5 26.29, 57.6 -0.28 M1.18 64.62 C16.85 46.6, 32.52 28.57, 57.6 -0.28 M0.79 89.46 C18.55 69.03, 36.31 48.6, 78.2 0.41 M0.79 89.46 C31.16 54.53, 61.53 19.59, 78.2 0.41 M1.05 113.54 C24.22 86.89, 47.38 60.25, 99.46 0.34 M1.05 113.54 C30.55 79.61, 60.04 45.68, 99.46 0.34 M0.66 138.38 C25.27 110.07, 49.88 81.76, 120.72 0.27 M0.66 138.38 C39.1 94.17, 77.53 49.95, 120.72 0.27 M0.93 162.46 C47.32 109.09, 93.72 55.72, 141.98 0.2 M0.93 162.46 C38.57 119.17, 76.2 75.87, 141.98 0.2 M0.54 187.3 C39.17 142.86, 77.8 98.42, 163.24 0.13 M0.54 187.3 C42.16 139.42, 83.78 91.55, 163.24 0.13 M5.4 206.1 C48.56 156.44, 91.72 106.79, 184.5 0.06 M5.4 206.1 C43.91 161.79, 82.42 117.49, 184.5 0.06 M18.13 215.84 C68.95 157.38, 119.76 98.92, 205.76 -0.01 M18.13 215.84 C73.27 152.4, 128.42 88.97, 205.76 -0.01 M37.42 218.03 C98.02 148.32, 158.62 78.61, 227.02 -0.08 M37.42 218.03 C108.05 136.78, 178.69 55.53, 227.02 -0.08 M58.68 217.96 C131.12 134.63, 203.56 51.3, 248.28 -0.15 M58.68 217.96 C110.11 158.81, 161.53 99.65, 248.28 -0.15 M79.94 217.9 C135.98 153.43, 192.02 88.96, 269.54 -0.22 M79.94 217.9 C129.19 161.25, 178.43 104.6, 269.54 -0.22 M101.2 217.83 C154.45 156.57, 207.69 95.32, 290.8 -0.28 M101.2 217.83 C151.78 159.65, 202.35 101.47, 290.8 -0.28 M122.46 217.76 C194.73 134.63, 266.99 51.5, 311.41 0.4 M122.46 217.76 C196 133.16, 269.54 48.57, 311.41 0.4 M143.07 218.44 C182.12 173.51, 221.18 128.58, 329.39 4.11 M143.07 218.44 C199.27 153.79, 255.47 89.13, 329.39 4.11 M164.33 218.37 C230.31 142.47, 296.29 66.57, 339.5 16.87 M164.33 218.37 C228.38 144.69, 292.44 71, 339.5 16.87 M185.59 218.3 C223.81 174.34, 262.03 130.37, 342.39 37.93 M185.59 218.3 C223.11 175.15, 260.62 131.99, 342.39 37.93 M206.85 218.24 C255.16 162.66, 303.47 107.09, 342 62.77 M206.85 218.24 C259.04 158.2, 311.22 98.17, 342 62.77 M228.11 218.17 C272.79 166.77, 317.46 115.38, 342.26 86.85 M228.11 218.17 C260.66 180.72, 293.22 143.27, 342.26 86.85 M249.37 218.1 C285.15 176.93, 320.94 135.77, 341.87 111.68 M249.37 218.1 C280.79 181.95, 312.22 145.79, 341.87 111.68 M270.63 218.03 C291.61 193.89, 312.59 169.75, 342.14 135.77 M270.63 218.03 C291.16 194.41, 311.69 170.8, 342.14 135.77 M291.89 217.96 C302.48 205.78, 313.07 193.59, 342.41 159.85 M291.89 217.96 C307.43 200.08, 322.98 182.19, 342.41 159.85 M313.15 217.89 C322.49 207.14, 331.83 196.4, 342.02 184.68 M313.15 217.89 C319.93 210.09, 326.71 202.29, 342.02 184.68" stroke="#a5d8ff" stroke-width="2" fill="none"></path><path d="M32 0 C118.77 0, 205.53 0, 310 0 M32 0 C92.89 0, 153.78 0, 310 0 M310 0 C331.33 0, 342 10.67, 342 32 M310 0 C331.33 0, 342 10.67, 342 32 M342 32 C342 72.1, 342 112.21, 342 186 M342 32 C342 68.89, 342 105.78, 342 186 M342 186 C342 207.33, 331.33 218, 310 218 M342 186 C342 207.33, 331.33 218, 310 218 M310 218 C204.61 218, 99.23 218, 32 218 M310 218 C235.38 218, 160.75 218, 32 218 M32 218 C10.67 218, 0 207.33, 0 186 M32 218 C10.67 218, 0 207.33, 0 186 M0 186 C0 144.06, 0 102.11, 0 32 M0 186 C0 149.7, 0 113.39, 0 32 M0 32 C0 10.67, 10.67 0, 32 0 M0 32 C0 10.67, 10.67 0, 32 0" stroke="#2f9e44" stroke-width="4" fill="none"></path></g><g transform="translate(323.4166717529297 508.5) rotate(0 135.5833282470703 22.5)"><text x="135.5833282470703" y="31.536" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#2f9e44" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Canvas  server</text></g><g stroke-linecap="round"><g transform="translate(1464.2779555624784 1094) rotate(0 395.0304919964283 -303.5)"><path d="M0 0 C131.68 -101.17, 658.38 -505.83, 790.06 -607 M0 0 C131.68 -101.17, 658.38 -505.83, 790.06 -607" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g><g transform="translate(1464.2779555624784 1094) rotate(0 395.0304919964283 -303.5)"><path d="M776.64 -585.91 C781.04 -592.82, 785.44 -599.73, 790.06 -607 M776.64 -585.91 C779.85 -590.95, 783.05 -595.98, 790.06 -607" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g><g transform="translate(1464.2779555624784 1094) rotate(0 395.0304919964283 -303.5)"><path d="M766.22 -599.47 C774.03 -601.94, 781.85 -604.4, 790.06 -607 M766.22 -599.47 C771.92 -601.27, 777.61 -603.07, 790.06 -607" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g></g><mask></mask><g transform="translate(1574 698) rotate(321.83829890711235 318.3999938964844 22.5)"><text x="0" y="31.536" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1. Client sends "I want account link"</text></g><g stroke-linecap="round"><g transform="translate(1933.4310099621362 486.82234441495825) rotate(0 -297.3840835888632 302.5888277925209)"><path d="M0 0 C-99.13 100.86, -495.64 504.31, -594.77 605.18 M0 0 C-99.13 100.86, -495.64 504.31, -594.77 605.18" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g><g transform="translate(1933.4310099621362 486.82234441495825) rotate(0 -297.3840835888632 302.5888277925209)"><path d="M-584.4 582.43 C-586.59 587.24, -588.78 592.04, -594.77 605.18 M-584.4 582.43 C-587.68 589.63, -590.96 596.82, -594.77 605.18" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g><g transform="translate(1933.4310099621362 486.82234441495825) rotate(0 -297.3840835888632 302.5888277925209)"><path d="M-572.2 594.42 C-576.97 596.69, -581.74 598.96, -594.77 605.18 M-572.2 594.42 C-579.34 597.82, -586.48 601.22, -594.77 605.18" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g></g><mask></mask><g transform="translate(1346 670) rotate(319.25355329386406 326.70001220703125 21.811856475482074)"><text x="0" y="30.571498036035678" font-family="Virgil, Segoe UI Emoji" font-size="34.898970360771315px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">2. Server sends back account link key</text></g><g stroke-linecap="round"><g transform="translate(1266 1090) rotate(0 -323 -288)"><path d="M0 0 C-107.67 -96, -538.33 -480, -646 -576 M0 0 C-107.67 -96, -538.33 -480, -646 -576" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g><g transform="translate(1266 1090) rotate(0 -323 -288)"><path d="M-622.78 -566.75 C-630.87 -569.97, -638.96 -573.19, -646 -576 M-622.78 -566.75 C-631.97 -570.41, -641.16 -574.07, -646 -576" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g><g transform="translate(1266 1090) rotate(0 -323 -288)"><path d="M-634.16 -553.98 C-638.28 -561.65, -642.41 -569.32, -646 -576 M-634.16 -553.98 C-638.84 -562.7, -643.53 -571.41, -646 -576" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g></g><mask></mask><g transform="translate(610 776) rotate(41.69334469597298 377.01666259765625 22.5)"><text x="0" y="31.536" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">3. Client passes link key to canvas server</text></g><g transform="translate(10 292) rotate(0 493.2416687011719 45)"><text x="0" y="31.536" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">4. Canvas server caches link key alongside the account</text><text x="0" y="76.536" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">ID of the user (verified by their token cookie)</text></g><g stroke-linecap="round"><g transform="translate(1470 1300) rotate(0 419 -399)"><path d="M0 0 C88.67 -51, 392.33 -173, 532 -306 C671.67 -439, 787 -716, 838 -798 M0 0 C88.67 -51, 392.33 -173, 532 -306 C671.67 -439, 787 -716, 838 -798" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g><g transform="translate(1470 1300) rotate(0 419 -399)"><path d="M834.55 -773.24 C835.61 -780.82, 836.66 -788.4, 838 -798 M834.55 -773.24 C835.52 -780.19, 836.49 -787.15, 838 -798" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g><g transform="translate(1470 1300) rotate(0 419 -399)"><path d="M819.44 -781.25 C825.12 -786.38, 830.8 -791.5, 838 -798 M819.44 -781.25 C824.65 -785.95, 829.87 -790.66, 838 -798" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g></g><mask></mask><g transform="translate(1551.2802732307046 889.1507556715542) rotate(320.3494096381038 348.69168090820403 45.000000000000014)"><text x="0" y="31.536" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">5. Client tells auth server that it has</text><text x="0" y="76.536" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">given the link key to canvas  server</text></g><g stroke-linecap="round"><g transform="translate(1942 254) rotate(0 -650 84)"><path d="M0 0 C-76.33 -6.33, -241.33 -72.33, -458 -38 C-674.67 -3.67, -1159.67 165.33, -1300 206 M0 0 C-76.33 -6.33, -241.33 -72.33, -458 -38 C-674.67 -3.67, -1159.67 165.33, -1300 206" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g><g transform="translate(1942 254) rotate(0 -650 84)"><path d="M-1280.18 190.76 C-1287.92 196.72, -1295.67 202.67, -1300 206 M-1280.18 190.76 C-1285.89 195.15, -1291.59 199.53, -1300 206" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g><g transform="translate(1942 254) rotate(0 -650 84)"><path d="M-1275.02 207.07 C-1284.78 206.65, -1294.54 206.23, -1300 206 M-1275.02 207.07 C-1282.21 206.76, -1289.4 206.45, -1300 206" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g></g><mask></mask><g transform="translate(1168 10) rotate(0 564.6500244140625 90)"><text x="0" y="31.536" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">6. Auth server queries canvas server with the link key</text><text x="0" y="76.536" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">canvas server returns  their account ID, proving that </text><text x="0" y="121.536" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">that user owns  the canvas server account they claim to,</text><text x="0" y="166.536" font-family="Virgil, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">auth server then saves the linked accounts into it's database</text></g></svg>